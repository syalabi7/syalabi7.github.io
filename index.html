<!doctype html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>The Wedding of Ayuna & Syalabi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
<div id="loader">
    <div class="loader-inner">
        <div class="loader-ring"></div>
        <p>Memuat undangan...</p>
    </div>
</div>

<audio id="bgMusic" loop playsinline>
    <source src="assets/music/wedding.mp3" type="audio/mpeg">
</audio>

<div id="musicBtn">â™«</div>

<!-- COVER -->
<section class="cover" id="cover">
    <div class="cover-inner">
        <p class="wedding-of">The Wedding of</p>
        <h1>Ayuna & Syalabi</h1>

        <div class="guest-wrapper">
            <p class="guest-label">Kepada Yth. Bapak/Ibu/Saudara/i</p>
            <p id="guestName" class="guest-name">Tamu Undangan</p>
        </div>

        <button id="openBtn">Buka Undangan</button>
    </div>
</section>

<section class="content" id="content">
    
    <div class="section opening">
        <div class="ayat-wrapper">
            <p class="ayat-bismillah">
                Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…Ù°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ’Ù…Ù
            </p>
            <p class="ayat-arab">
                ÙˆÙÙ…ÙÙ†Ù’ Ø¢ÙŠÙØ§ØªÙÙ‡Ù Ø£ÙÙ†Ù’ Ø®ÙÙ„ÙÙ‚Ù Ù„ÙÙƒÙÙ…Ù’ Ù…ÙÙ†Ù’ Ø£ÙÙ†Ù’ÙÙØ³ÙÙƒÙÙ…Ù’ Ø£ÙØ²Ù’ÙˆÙØ§Ø¬Ù‹Ø§
                Ù„ÙØªÙØ³Ù’ÙƒÙÙ†ÙÙˆØ§ Ø¥ÙÙ„ÙÙŠÙ’Ù‡ÙØ§ ÙˆÙØ¬ÙØ¹ÙÙ„Ù Ø¨ÙÙŠÙ’Ù†ÙÙƒÙÙ…Ù’ Ù…ÙÙˆÙØ¯Ù‘ÙØ©Ù‹ ÙˆÙØ±ÙØ­Ù’Ù…ÙØ©Ù‹ Ûš
                Ø¥ÙÙ†Ù‘Ù ÙÙÙŠ Ø°ÙÙ°Ù„ÙÙƒÙ Ù„ÙØ¢ÙŠÙØ§ØªÙ Ù„ÙÙ‚ÙÙˆÙ’Ù…Ù ÙŠÙØªÙÙÙÙƒÙ‘ÙØ±ÙÙˆÙ†Ù
            </p>
            <p class="ayat-arti">
                â€œDan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan
                untukmu pasangan hidup dari jenismu sendiri supaya kamu merasa
                tenteram kepadanya, dan dijadikan-Nya di antaramu rasa kasih dan sayang.â€
                <br><em>(QS. Ar-Rum : 21)</em>
            </p>
        </div>

        <h2>Assalamuâ€™alaikum Warahmatullahi Wabarakatuh</h2>
        <p>
            Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud
            mengundang Bapak/Ibu/Saudara/i untuk hadir dalam acara
            pernikahan kami.
        </p>
    </div>

    <div class="section couple">
        <div class="person">
            <img src="assets/img/ayuna.jpg" class="photo">
            <h4>Ayuna Widya Silviana Sari</h4>
            <p>Putri dari Bapak Yaji & <br>Ibu Wiji</p>
        </div>

        <span class="and">&amp;</span>

        <div class="person">
            <img src="assets/img/syalabi.jpg" class="photo">
            <h4>Ahmad Syalabi Mahmud</h4>
            <p>Putra dari Bapak H.M. Nur Syahid (Alm.) & <br>Ibu Makhinunik (Almh.)</p>
        </div>
    </div>

    <div class="section event">
        <h3>Detail Acara</h3>

        <div class="event-card">
            <h4>Akad Nikah</h4>
            <p><strong>Minggu, 4 Januari 2026</strong></p>
            <p>Pukul 08.00 WIB</p>
            <p>Rumah Mempelai Wanita</p>
            <p>Dusun Ngumpul, RT/RW. 003/001, Desa Ngumpul, Kec. Bagor, Nganjuk</p>
        </div>

        <div class="event-card">
            <h4>Resepsi</h4>
            <p><strong>Minggu, 4 Januari 2026</strong></p>
            <p>Pukul 12.00 WIB - Selesai</p>
            <p>Rumah Mempelai Wanita</p>
            <p>Dusun Ngumpul, RT/RW. 003/001, Desa Ngumpul, Kec. Bagor, Nganjuk</p>
        </div>
    </div>

    <div class="section location">
        <h3>Lokasi Acara</h3>

        <div class="map-card">
            <iframe 
                src="https://www.google.com/maps?q=-7.578694,111.843083&z=17&output=embed"
                allowfullscreen
                loading="lazy">
            </iframe>

            <a href="https://maps.google.com/?q=-7.578694,111.843083" 
            target="_blank" class="map-btn">
                Buka di Google Maps
            </a>
        </div>
    </div>

    <div class="section countdown">
        <h3>Menuju Hari Bahagia</h3>

        <p class="countdown-date">
            Minggu, 4 Januari 2026
        </p>

        <div class="countdown-box">
            <div><span id="days">0</span><small>Hari</small></div>
            <div><span id="hours">0</span><small>Jam</small></div>
            <div><span id="minutes">0</span><small>Menit</small></div>
            <div><span id="seconds">0</span><small>Detik</small></div>
        </div>
    </div>

    <div class="section guestbook">
        <h3>Ucapan & Doa</h3>

        <div class="guestbook-card">
            <input type="text" id="gb-name" placeholder="Nama">
            <textarea id="gb-message" placeholder="Tulis ucapan & doa..."></textarea>
            <button id="gb-send">Kirim Ucapan</button>
        </div>

        <div id="gb-list"></div>
    </div>

    <div class="section gift">
        <h3>Amplop Digital</h3>
        <button id="giftToggle" class="gift-toggle">
            Buka Amplop Digital ğŸ’Œ
        </button>
        <div class="gift-card" id="giftCard" style="display:none">
            <div class="atm-card bsi">
                <div class="atm-top">
                    <div class="atm-chip"></div>
                    <div class="atm-bank">BSI</div>
                </div>
                <div class="atm-number" id="rek1">7312 2608 61</div>
                <div class="atm-name">Ayuna Widya Silviana Sari</div>
                <button class="copy-btn" data-target="rek1">Salin</button>
            </div>
            <div class="atm-card bri">
                <div class="atm-top">
                    <div class="atm-chip"></div>
                    <div class="atm-bank">BRI</div>
                </div>
                <div class="atm-number" id="rek2">2050 0100 2060 530</div>
                <div class="atm-name">Ahmad Syalabi Mahmud</div>
                <button class="copy-btn" data-target="rek2">Salin</button>
            </div>
        </div>
    </div>

    <div class="section closing">
        <p class="closing-text">
            Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila
            Bapak/Ibu/Saudara/i berkenan hadir dan memberikan doa restu.
        </p>

        <p class="closing-doa">
            Atas kehadiran dan doa restunya kami ucapkan terima kasih.
        </p>

        <h4 class="closing-wassalam">
            Wassalamuâ€™alaikum Warahmatullahi Wabarakatuh
        </h4>

        <p class="closing-name">
            Ayuna & Syalabi
        </p>
    </div>

</section>

<div id="adminModal" class="admin-modal">
    <div class="admin-box">
        <h3>Tambah Tamu Undangan</h3>

        <input type="text" id="adminNama" placeholder="Nama Tamu">
        <button id="adminGenerate">Buat Link</button>

        <div id="adminResult" class="admin-result"></div>

        <button id="adminCopy" style="display:none">Salin Pesan</button>
        <button id="adminClose">Tutup</button>
    </div>
</div>

<script src="assets/js/main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL = "https://ubfujpsrnjzgubgpnjmk.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InViZnVqcHNybmp6Z3ViZ3Buam1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4Mzg5NDEsImV4cCI6MjA4MjQxNDk0MX0.G_rB-QgRXtNi0ZO-NTKojGS4KEkZ37wYOiurmxn-1vg";

const sb = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

document.getElementById('gb-send').addEventListener('click', async ()=>{
    const name = document.getElementById('gb-name').value.trim();
    const message = document.getElementById('gb-message').value.trim();

    if(!name || !message){
        alert("Nama dan ucapan tidak boleh kosong");
        return;
    }

    const { error } = await sb.from('guestbook').insert([{ name, message }]);

    if(error){
        alert("Gagal mengirim ucapan ğŸ˜¥");
        console.log(error);
    }else{
        document.getElementById('gb-name').value = "";
        document.getElementById('gb-message').value = "";
        loadGuestbook(); // â† reload list otomatis
    }
});
</script>
<script>
async function loadGuestbook(){
    const { data, error } = await sb
      .from('guestbook')
      .select('*')
      .order('created_at', { ascending: false })
      .limit(10);

    if(error){
        console.log(error);
        return;
    }

    const list = document.getElementById('gb-list');
    list.innerHTML = "";

    data.forEach(row => {
        list.innerHTML += `
            <div class="guestbook-item">
                <strong>${row.name}</strong>
                <p>${row.message}</p>
            </div>
        `;
    });
}

loadGuestbook();
</script>

</body>
</html>
